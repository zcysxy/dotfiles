var b=Object.create;var u=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var d=e=>u(e,"__esModule",{value:!0});var A=(e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})},f=(e,t,r,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w(t))!O.call(e,o)&&(r||o!=="default")&&u(e,o,{get:()=>t[o],enumerable:!(l=E(t,o))||l.enumerable});return e},V=(e,t)=>f(d(u(e!=null?b(T(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),F=(e=>(t,r)=>e&&e.get(t)||(r=f(d({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var v={};A(v,{default:()=>x});var n=require("@raycast/api");var i=require("@raycast/api");var p=V(require("path")),h=require("fs/promises"),g=require("os"),a=require("react");var s=require("@raycast/api");function S(e){let t=e.split(p.default.sep).filter(r=>{if(r!="")return r}).pop();return t||"Default Vault Name (check your path preferences)"}function m(){return(0,i.getPreferenceValues)().vaultPath.split(",").filter(r=>r.trim()!=="").map(r=>({name:S(r.trim()),key:r.trim(),path:r.trim()}))}async function L(){let e=p.default.resolve(`${(0,g.homedir)()}/Library/Application Support/obsidian/obsidian.json`);try{let t=JSON.parse(await(0,h.readFile)(e,"utf8"));return Object.values(t.vaults).map(({path:r})=>({name:S(r),key:r,path:r}))}catch{return[]}}function y(){let e=(0,a.useMemo)(()=>(0,i.getPreferenceValues)(),[]),[t,r]=(0,a.useState)(e.vaultPath?{ready:!0,vaults:m()}:{ready:!1,vaults:[]});return(0,a.useEffect)(()=>{t.ready||L().then(l=>{r({vaults:l,ready:!0})}).catch(()=>r({vaults:m(),ready:!0}))},[]),t}var N=require("@raycast/api");function P(){return _jsx(N.Detail,{markdown:`# No vaults found

 Please use Obsidian to create a vault, or set a vault path in the extension's preferences before using this command.`})}var c=e=>"obsidian://open?vault="+encodeURIComponent(e);function x(){let{ready:e,vaults:t}=y();return t.length===1&&((0,n.open)(c(t[0].name)),(0,n.popToRoot)(),(0,n.closeMainWindow)()),e?t.length===0?_jsx(P,null):t.length==1?((0,n.open)(c(t[0].name)),(0,n.popToRoot)(),(0,n.closeMainWindow)(),_jsx(n.List,null)):t.length>1?_jsx(n.List,{isLoading:!e},t?.map(r=>_jsx(n.List.Item,{title:r.name,key:r.key,actions:_jsx(n.ActionPanel,null,_jsx(n.Action.Open,{title:"Open vault",icon:n.Icon.ArrowRight,target:c(r.name)}),_jsx(n.Action.ShowInFinder,{title:"Show in Finder",icon:n.Icon.Finder,path:r.path}))}))):_jsx(n.List,null):_jsx(n.List,{isLoading:!0})}module.exports=F(v);0&&(module.exports={});
